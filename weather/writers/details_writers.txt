Le but de ce module writer est d'héberger les codes qui permettent d'écrire les données météo dans la BDD.
utils.py contient quelques fonctions utiles pour l'interaction avec la bdd, la supression de lignes, ajout... 

Les fonctions d'entrées se situent dans les 3 fichiers : 

-writer_internal.py : La fonction y est : write_forecast_to_db(df: pd.DataFrame, fournisseur : str) 
-writer_external.py : La fonction y est : write_production_to_db(df: pd.DataFrame, fournisseur_comm : str) 
-writer_production_calculee.py : La fonction y est : write_production_calculee_to_db(df: pd.DataFrame, fournisseur : str, methode_calcul : str) 



1) La fonction write_forecast_to_db : 
  Cette fonction gère automatiquement l'endroit où est placé le db (database/"optimasol.db") 
   $Arguments de cette fonction$ :
     Il faut indiquer à la fonction : 
       - un dataframe contenant les données forecast dans ce format : 
         Datetime - GHI - DNI - DHI - Temperature - Wind - Albedo - GTI. 
         Ces deux derniers ariables peuvent ne pas exister, dans ce cas le programme mettra à la place None
       - Il faut indiquer le fournisseur qui a généré ce dataframe. 
   $Ce que fait la fonction$ : 
    - Elle crée d'abord la table si jamais elle n'existe pas
    - Elle supprime les lignes qui concernent le même fournissuers pour les dates ultérieurs (afin de gérer la mise à jour)
    - Elle transforme chaque ligne du pandas en tuple
    - Elle ajoute à ce tuple le nom du fournisseur pour l'enregistrer avec les données
    - Elle insère ce nouveau typle dans la table. 

2) La fonction write_production_to_db : 
    Cette fonction gère automatiquement l'endroit où est placé le db (database/"optimasol.db") 
   $Arguments de cette fonction$ :
   Il faut indiquer à la fonction : 
       - un dataframe contenant les données forecast dans ce format : 
         datetime - production
       - Il faut indiquer le fournisseur (commercial) en str qui a généré ce dataframe, 
   $Ce que fait la fonction$ : 
    - Elle crée d'abord la table productions_pv si jamais elle n'existe pas
    - Elle supprime les lignes qui concernent le même fournissuers pour les dates ultérieurs (afin de gérer la mise à jour)
    - Elle transforme chaque ligne du pandas en tuple
    - Elle ajoute à ce tuple le nom du fournisseur, le terme "External" (pur le type de fournisseur), le mode de calcul (None dans ce cas)
    - Elle insère ce nouveau typle dans la table. 

3) La fonction write_production_calculee_to_db : 
   Cette fonction gère automatiquement l'endroit où est placé le db (database/"optimasol.db") 
   $Arguments de cette fonction$ :
   Il faut indiquer à la fonction : 
       - un dataframe contenant les données forecast dans ce format : 
         datetime - production
       - Il faut indiquer le fournisseur (internal) en str qui a généré ce les forecast utilisées pour calculer ces données.
       - Il faut indiquer aussi si on a utilisé PVlib ou bien méthode classique (avec rendements)
   $Ce que fait la fonction$ : 
    - Elle crée d'abord la table productions_pv si jamais elle n'existe pas
    - Elle supprime les lignes qui concernent le même fournissuers pour les dates ultérieurs (afin de gérer la mise à jour)
    - Elle transforme chaque ligne du pandas en tuple
    - Elle ajoute à ce tuple le nom du fournisseur, le terme "Internal" (pur le type de fournisseur), le mode de calcul (en argument)
    - Elle insère ce nouveau typle dans la table. 



